(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new(function(){function e(t){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._quastions=t,this._currentQuastionIndex=0,this._wrapper=document.querySelector("#app-wrapper"),this._startBtn=document.querySelector("#start-quiz"),this._startBtn.addEventListener("click",this._updateQuizContent.bind(this)),this._wrapper.addEventListener("click",(function(t){var e=t.target;n._bodyDiv&&n._bodyDiv.querySelectorAll("input[type=radio]").forEach((function(t){t.addEventListener("change",(function(t){n._validateCorrectnessOfAnswer(t.currentTarget.id),n._createBodyButtons()}))})),"next"==e.id&&(n._currentQuastionIndex++,n._updateQuizContent()),"prev"==e.id&&(n._currentQuastionIndex--,n._updateQuizContent()),"show-result"==e.id&&n._showQuizResult()}))}var n,i;return n=e,(i=[{key:"_updateQuizContent",value:function(){this._hideElement(this._startBtn),this._quizWrapper&&this._quizWrapper.remove(),this._createAndAppendElem("div",this._wrapper,"shadow bg-white pt-4 px-4 pb-1 rounded","quiz-wrapper"),this._quizWrapper=document.getElementById("quiz-wrapper"),this._updateHeader(),this._updateBody(),this._updateFooter()}},{key:"_updateHeader",value:function(){var t=this._getEmptyOfElemInQuizWrapper("header"),e='سوال\n        <span id="current-num">'.concat(this._currentQuastionIndex+1,'</span>\n        از\n        <span id="total-num">').concat(this._quastions.length,"</span>");this._createAndAppendElem("h3",t,"","",e)}},{key:"_updateBody",value:function(){this._bodyDiv=this._getEmptyOfElemInQuizWrapper("body"),this._bodyDiv.classList.add("py-3"),this._createQuastionAndOptions(),this._createBodyButtons()}},{key:"_updateFooter",value:function(){var t=this._getEmptyOfElemInQuizWrapper("footer");t.classList.add("pt-2");var e="";this._quastions.map((function(t){t.clientAnswer?t.clientAnswer==t.correctAnswer?e+='<li><i class="fas fa-check-circle"></i></li>':e+='<li><i class="fas fa-times-circle"></i></li>':e+='<li><i class="fas fa-circle"></i></li>'})),this._createAndAppendElem("ul",t,"","",e)}},{key:"_createQuastionAndOptions",value:function(){var t=this._quastions[this._currentQuastionIndex],e='\n               <li id="quastion">'.concat(t.quastion,'</li>\n               <label for="a" class="option d-block">').concat(t.a,'</label>\n               <input type="radio" id="a" class="d-none" name="op">\n               <label for="b" class="option d-block" >').concat(t.b,'</label>\n               <input type="radio" id="b" class="d-none" name="op">\n               <label for="c" class="option d-block">').concat(t.c,'</label>\n               <input type="radio" id="c" class="d-none" name="op">\n               <label for="d" class="option d-block">').concat(t.d,'</label>\n               <input type="radio" id="d" class="d-none" name="op">\n        ');this._createAndAppendElem("ul",this._bodyDiv,"","",e),null!=t.clientAnswer&&this._updateQuastionOptions(t)}},{key:"_createBodyButtons",value:function(){var t;0==this._currentQuastionIndex?t='\n                <button id="next" class="btn position-absolute">سوال بعدی</button>\n            ':this._currentQuastionIndex==this._quastions.length-1?(t='\n                <button id="prev" class="btn position-absolute">سوال قبلی</button>\n            ',this._isThereUnansweredQuestion()||(t+='<button id="show-result" class="btn position-absolute">مشاهده عملکرد</button>')):t='\n                <button id="prev" class="btn position-absolute">سوال قبلی</button>\n                <button id="next" class="btn position-absolute">سوال بعدی</button>\n            ',document.querySelector(".btn-container")&&document.querySelector(".btn-container").remove(),this._createAndAppendElem("div",this._bodyDiv,"btn-container position-relative","",t)}},{key:"_isThereUnansweredQuestion",value:function(){return this._quastions.some((function(t){return!t.clientAnswer}))}},{key:"_showQuizResult",value:function(){var t=this._getPerformanceStatistics();this._createResult(t)}},{key:"_getPerformanceStatistics",value:function(){var t=0,e=0,n=this._quastions.length;this._quastions.map((function(n){n.correctAnswer==n.clientAnswer?t++:e++}));var i=Math.floor(100*t/n);return{totalNum:n,correctNum:t,wrongNum:e,CorrectPercentage:i}}},{key:"_createResult",value:function(t){this._quizWrapper.remove();var e='\n        <div class="header mb-3">\n            <h2 class="text-center">\n                نتیجه آزمون\n            </h2>\n        </div>\n        <div class="result-body">\n            <table class="table table-bordered text-dark text-center">\n                <tbody>\n                    <tr scope="row">\n                        <td class="result-title">تعداد سوالات</td>\n                    <td>'.concat(t.totalNum,'</td>\n                    </tr>\n                    <tr scope="row">\n                        <td class="result-title">تعداد پاسخ صحیح</td>\n                    <td>').concat(t.correctNum,'</td>\n                    </tr>\n                    <tr scope="row">\n                        <td class="result-title">تعداد پاسخ اشتباه</td>\n                    <td>').concat(t.wrongNum,'</td>\n                    </tr>\n                    <tr scope="row">\n                        <td class="result-title">درصد درستی عمکرد</td>\n                    <td>').concat(t.CorrectPercentage,"%</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        ");this._createAndAppendElem("div",this._wrapper,"shadow bg-white py-4 px-4 rounded","result-wrapper",e)}},{key:"_getEmptyOfElemInQuizWrapper",value:function(t){var e=this._quizWrapper.querySelector(".".concat(t));return e||(this._createAndAppendElem("div",this._quizWrapper,t),e=this._quizWrapper.querySelector(".".concat(t))),this._emptyElem(e),e}},{key:"_validateCorrectnessOfAnswer",value:function(t){var e=this._quastions[this._currentQuastionIndex];e.clientAnswer=t,this._updateQuastionOptions(e),this._updateFooter()}},{key:"_updateQuastionOptions",value:function(t){document.querySelector("label[for=".concat(t.correctAnswer,"]")).classList.add("true"),t.correctAnswer!=t.clientAnswer&&document.querySelector("label[for=".concat(t.clientAnswer,"]")).classList.add("wrong"),document.querySelectorAll(".option").forEach((function(t){t.classList.add("disabled")}))}},{key:"_hideElement",value:function(t){t.classList.add("d-none")}},{key:"_createAndAppendElem",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=document.createElement(t);s.className=n,s.id=i,s.innerHTML=r,e.appendChild(s)}},{key:"_emptyElem",value:function(t){t.innerHTML=""}}])&&t(n.prototype,i),e}())([{quastion:"کدام کشور در قاره آمریکای مرکزی و شمالی قرار دارد ؟",a:"کلمبیا",b:"بولیوی",c:"هندوراس",d:"اکووادر",correctAnswer:"c",clientAnswer:null},{quastion:"کدام کشور در قاره اقیانوسیه قرار ندارد ؟",a:"استرالیا",b:"نیوزلند",c:"ساموآ",d:"گواتمالا",correctAnswer:"d",clientAnswer:null},{quastion:"پرجمعیت ترین شهر کشور آفریقای جنوبی کدام گزینه است ؟",a:"کیپ تاون",b:"سووتو",c:"ژوهانسبورگ",d:"دوربان",correctAnswer:"a",clientAnswer:null},{quastion:"وسیع ترین کشور خاورمیانه کدام گزینه است ؟",a:"ایران",b:"مصر",c:"عربستان سعودی",d:"ترکیه",correctAnswer:"c",clientAnswer:null},{quastion:"کوچکترین کشور قاره آفریقا از نظر وسعت کدام گزینه است ؟",a:"گامبیا",b:"توگو",c:"کیپ ورد",d:"لسوتو",correctAnswer:"a",clientAnswer:null},{quastion:"پرجمعیت ترین کشور خاورمیانه کدام گزینه است؟",a:"ترکیه",b:"ایران",c:"عربستان سعودی",d:"مصر",correctAnswer:"d",clientAnswer:null}])})();